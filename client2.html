<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script> 
    <script>
    var exampleSocket = new WebSocket("ws://localhost:8080/echo");

exampleSocket.onopen = function (event) {
    exampleSocket.send("Here's some text that the server is urgently awaiting!"); 
};

exampleSocket.onmessage = function (event) {
  console.log(event.data);
}


$( document ).ready(function() {
    $( "#send" ).on( "click", function() {
    $.ajax({
	type: 'POST',
	url: "/send",
	data: {
	    msg: $("#input").val(),
	},
	success: function( result ) {
	    console.log("success")
	    $( "#test" ).html( "<strong>" + result + "</strong>" );
	}
    });
});
});
  </script>
</head>
<body>
  <table>
    <tr><td valign="top" width="50%">
	<p>Click "Open" to create a connection to the server, 
	  "Send" to send a message to the server and "Close" to close the connection. 
	  You can change the message and send multiple times.
	<p>
	    <button id="open">Open</button>
    <button id="close">Close</button>
    <form id="form">
    <p><input id="input" type="text" value="Hello world!">
    </form>
	      <button id="send">Send</button>
      </td><td valign="top" width="50%">
    <div id="output"></div>
    <div id="test"></div>
  </td></tr></table>
</body>
</html>
